"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[776],{8286:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294);function r(e){let{children:t,className:n="p-4",url:r="http://localhost:3000/"}=e;return a.createElement("div",{className:"custom-browser-window border-[3px] border-[--ifm-color-emphasis-200] border-solid rounded-[--ifm-global-radius] mb-4"},a.createElement("div",{className:"py-2 px-4 bg-[--ifm-color-emphasis-200] flex items-center"},a.createElement("div",{className:"flex gap-1.5"},a.createElement("div",{className:"w-3 h-3 rounded-full bg-[--ifm-color-danger]"}),a.createElement("div",{className:"w-3 h-3 rounded-full bg-[--ifm-color-warning]"}),a.createElement("div",{className:"w-3 h-3 rounded-full bg-[--ifm-color-success]"})),a.createElement("div",{className:"bg-[--ifm-background-color] rounded-full text-sm py-1 px-4 flex-1 mx-4"},r),a.createElement("div",null,a.createElement("div",{className:"h-[3px] w-[18px] bg-slate-400"}),a.createElement("div",{className:"h-[3px] w-[18px] bg-slate-400 my-[3px]"}),a.createElement("div",{className:"h-[3px] w-[18px] bg-slate-400"}))),a.createElement("div",{className:n},t))}},9045:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294);function r(e){let{name:t,type:n,isRequired:r}=e;return a.createElement(a.Fragment,null,a.createElement("code",{className:"mr-2"},a.createElement("strong",null,t),!1===r&&"?",": ",n),r&&a.createElement("span",{className:"text-[--ifm-color-danger] font-semibold"},"(Required)"))}},3924:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>k,default:()=>y,frontMatter:()=>v,metadata:()=>N,toc:()=>b});var a=n(7462),r=n(7294),i=n(3905),l=n(4866),s=n(5162),o=n(9045),m=n(8286),u=n(655),p=n(5267),c=n(7192);function d(){const[e,t]=function(e,t){void 0===t&&(t={});var n=t.onIntersect,a=void 0===n?c.ZT:n,i=(0,u._T)(t,["onIntersect"]),l=(0,r.useState)(e),s=l[0],o=l[1],m=(0,r.useCallback)((function(e,t){o(e),a(e,t)}),[a]);return[(0,p.Z)((0,u.pi)({onIntersect:m},i)),s]}(!1,{onEnter:()=>console.log("Element appeared in page"),onLeave:()=>console.log("Element dissappeared from page")});return r.createElement("div",{className:`max-h-96 overflow-y-auto p-4 ${t?"bg-white":"bg-slate-900 text-white"} transition-colors`},r.createElement("div",{className:"absolute top-4 left-4"},"\u2139\ufe0f Scroll down"),r.createElement("div",{className:"absolute top-12 left-4"},r.createElement("span",{className:"text-xl font-semibold"},t?"Day":"Night")),r.createElement("div",{style:{height:800}}),r.createElement("div",{ref:e,className:"w-24 h-24 rounded-full bg-yellow-500 flex items-center justify-center mx-auto"},"Sun"),r.createElement("div",{style:{height:800}}))}const f=(0,r.memo)(d),v={},k="useInView",N={unversionedId:"use-in-view",id:"use-in-view",title:"useInView",description:"Tracks an HTML element's visibility using Intersection Observer API.",source:"@site/docs/use-in-view.mdx",sourceDirName:".",slug:"/use-in-view",permalink:"/docs/use-in-view",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useIntersection",permalink:"/docs/use-intersection"},next:{title:"useWindowEvent",permalink:"/docs/use-window-event"}},h={},b=[{value:"API",id:"api",level:2},{value:"Options",id:"options",level:3},{value:"Returns",id:"returns",level:3},{value:"Examples",id:"examples",level:2}],g={toc:b},w="wrapper";function y(e){let{components:t,...n}=e;return(0,i.kt)(w,(0,a.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"useinview"},"useInView"),(0,i.kt)("p",null,"Tracks an HTML element's visibility using ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"},"Intersection Observer API"),"."),(0,i.kt)("hr",{className:"custom-hr"}),(0,i.kt)("h2",{id:"api"},"API"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const [ref, isInView] = useInView(initialIsInView, {\n  onIntersect,\n  onEnter,\n  onLeave,\n  enabled,\n  root,\n  rootMargin,\n  threshold,\n});\n")),(0,i.kt)("h3",{id:"options"},"Options"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"initialIsInView",type:"boolean",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"false")),(0,i.kt)("li",{parentName:"ul"},"Determine initial state of ",(0,i.kt)("inlineCode",{parentName:"li"},"isInView")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"options",type:"Object",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"{}")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"options.onIntersect",type:"(isIntersecting: boolean, entry?: IntersectionObserverEntry) => void",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"() => {}")),(0,i.kt)("li",{parentName:"ul"},"Callback fired on enter & on leave"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"options.onEnter",type:"(entry?: IntersectionObserverEntry) => void",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"() => {}")),(0,i.kt)("li",{parentName:"ul"},"Callback fired on enter"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"options.onLeave",type:"(entry?: IntersectionObserverEntry) => void",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"() => {}")),(0,i.kt)("li",{parentName:"ul"},"Callback fired on leave"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"options.enabled",type:"boolean",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"true")),(0,i.kt)("li",{parentName:"ul"},"Determine whether intersection observer should be enabled or not"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"options.root",type:"Element | Document",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to the browser viewport if not specified or if ",(0,i.kt)("inlineCode",{parentName:"li"},"null")),(0,i.kt)("li",{parentName:"ul"},"The element that is used as the viewport for checking visibility of the target. Must be the ancestor of the target"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"options.rootMargin",type:"string",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to all zeros"),(0,i.kt)("li",{parentName:"ul"},"Margin around the root. Can have values similar to the CSS margin property, e.g. ",(0,i.kt)("inlineCode",{parentName:"li"},'"10px 20px 30px 40px"')," (top, right, bottom, left), the values can be percentages"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"options.threshold",type:"number",isRequired:!1,mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"0")),(0,i.kt)("li",{parentName:"ul"},"Indicate at what percentage of the target's visibility the observer's callback should be executed")))),(0,i.kt)("h3",{id:"returns"},"Returns"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"ref",type:"React.MutableRefObject",mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The ref used on JSX element"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(o.Z,{name:"isInView",type:"boolean",mdxType:"Param"}),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"The state that determine whether the element has entered the viewport")))),(0,i.kt)("hr",{className:"custom-hr"}),(0,i.kt)("h2",{id:"examples"},"Examples"),(0,i.kt)(m.Z,{className:"relative",mdxType:"BrowserWindow"},(0,i.kt)(f,{mdxType:"Demo"})),(0,i.kt)(l.Z,{mdxType:"Tabs"},(0,i.kt)(s.Z,{value:"JS",label:"JS",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useInView } from 'react-power-ups';\n\nexport function Demo() {\n  const [ref, isInView] = useInView(false, {\n    onEnter: () => console.log('Element appeared in page'),\n    onLeave: () => console.log('Element dissappeared from page'),\n  });\n\n  return (\n    <div className={`transition-colors ${!isInView ? 'bg-slate-900 text-white' : 'bg-white'}`}>\n      <div className=\"absolute\">\n        <span>{isInView ? 'Day' : 'Night'}</span>\n      </div>\n\n      <div style={{ height: 1000 }} />\n\n      <div ref={ref} className=\"sun\">\n        Sun\n      </div>\n\n      <div style={{ height: 1000 }} />\n    </div>\n  );\n}\n"))),(0,i.kt)(s.Z,{value:"TS",label:"TS",default:!0,mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useInView } from 'react-power-ups';\n\nexport function Demo() {\n  const [ref, isInView] = useInView(false, {\n    onEnter: () => console.log('Element appeared in page'),\n    onLeave: () => console.log('Element dissappeared from page'),\n  });\n\n  return (\n    <div className={`transition-colors ${!isInView ? 'bg-slate-900 text-white' : 'bg-white'}`}>\n      <div className=\"absolute\">\n        <span>{isInView ? 'Day' : 'Night'}</span>\n      </div>\n\n      <div style={{ height: 1000 }} />\n\n      <div ref={ref} className=\"sun\">\n        Sun\n      </div>\n\n      <div style={{ height: 1000 }} />\n    </div>\n  );\n}\n")))))}y.isMDXComponent=!0},5267:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(655),r=n(7294),i=n(7192);function l(e){var t=e.onIntersect,n=void 0===t?i.ZT:t,l=e.onEnter,s=void 0===l?i.ZT:l,o=e.onLeave,m=void 0===o?i.ZT:o,u=e.enabled,p=void 0===u||u,c=(0,a._T)(e,["onIntersect","onEnter","onLeave","enabled"]),d=(0,r.useRef)(null),f=(0,r.useRef)(n),v=(0,r.useRef)(s),k=(0,r.useRef)(m);return(0,r.useEffect)((function(){f.current=n}),[n]),(0,r.useEffect)((function(){v.current=s}),[s]),(0,r.useEffect)((function(){k.current=m}),[m]),(0,r.useEffect)((function(){if(p&&d.current&&"function"==typeof IntersectionObserver){var e=new IntersectionObserver((function(e){var t=e[0];f.current(t.isIntersecting,t),t.isIntersecting?v.current(t):k.current(t)}),c);return e.observe(d.current),function(){e.disconnect()}}}),[p,c.root,c.rootMargin,c.threshold]),d}},7192:(e,t,n)=>{n.d(t,{RF:()=>l,ZT:()=>a,ht:()=>i,jU:()=>r});var a=function(){},r="undefined"!=typeof window,i=function(e,t){return e===t},l=function(e){return e}}}]);