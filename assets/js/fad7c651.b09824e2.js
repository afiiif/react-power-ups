"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[998],{8286:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294);function a(e){let{children:t,className:n="p-4",url:a="http://localhost:3000/"}=e;return r.createElement("div",{className:"custom-browser-window border-[3px] border-[--ifm-color-emphasis-200] border-solid rounded-[--ifm-global-radius] mb-4"},r.createElement("div",{className:"py-2 px-4 bg-[--ifm-color-emphasis-200] flex items-center"},r.createElement("div",{className:"flex gap-1.5"},r.createElement("div",{className:"w-3 h-3 rounded-full bg-[--ifm-color-danger]"}),r.createElement("div",{className:"w-3 h-3 rounded-full bg-[--ifm-color-warning]"}),r.createElement("div",{className:"w-3 h-3 rounded-full bg-[--ifm-color-success]"})),r.createElement("div",{className:"bg-[--ifm-background-color] rounded-full text-sm py-1 px-4 flex-1 mx-4"},a),r.createElement("div",null,r.createElement("div",{className:"h-[3px] w-[18px] bg-slate-400"}),r.createElement("div",{className:"h-[3px] w-[18px] bg-slate-400 my-[3px]"}),r.createElement("div",{className:"h-[3px] w-[18px] bg-slate-400"}))),r.createElement("div",{className:n},t))}},9045:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294);function a(e){let{name:t,type:n,isRequired:a}=e;return r.createElement(r.Fragment,null,r.createElement("code",{className:"mr-2"},r.createElement("strong",null,t),!1===a&&"?",": ",n),a&&r.createElement("span",{className:"text-[--ifm-color-danger] font-semibold"},"(Required)"))}},9865:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>k,contentTitle:()=>f,default:()=>b,frontMatter:()=>p,metadata:()=>h,toc:()=>v});var r=n(7462),a=n(7294),l=n(3905),s=n(4866),i=n(5162),o=n(9045),c=n(8286),m=n(5267);function u(){const e=(0,m.Z)({onEnter:()=>console.log("Element A appeared in page"),onLeave:()=>console.log("Element A dissappeared from page")}),t=(0,m.Z)({threshold:.5,onIntersect:(e,t)=>{console.log("onIntersect triggered",e,t)}});return a.createElement("div",{className:"max-h-96 overflow-y-auto p-4"},a.createElement("div",{className:"absolute top-4 left-4 text-[--ifm-color-emphasis-700]"},"\u2139\ufe0f Scroll and check console"),a.createElement("div",{style:{height:700}}),a.createElement("div",{ref:e,className:"bg-slate-500 text-white p-3 h-24"},"Element A"),a.createElement("div",{style:{height:700}}),a.createElement("textarea",{ref:t,defaultValue:"Element B (with threshold: 0.5)",className:"p-3 w-full h-36 rounded-lg border border-slate-500"}),a.createElement("div",{style:{height:700}}))}const d=(0,a.memo)(u),p={},f="useIntersection",h={unversionedId:"use-intersection",id:"use-intersection",title:"useIntersection",description:"Tracks an HTML element's intersection using Intersection Observer API.",source:"@site/docs/use-intersection.mdx",sourceDirName:".",slug:"/use-intersection",permalink:"/docs/use-intersection",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"useIsomorphicLayoutEffect",permalink:"/docs/use-isomorphic-layout-effect"},next:{title:"useInView",permalink:"/docs/use-in-view"}},k={},v=[{value:"API",id:"api",level:2},{value:"Options",id:"options",level:3},{value:"Returns",id:"returns",level:3},{value:"Examples",id:"examples",level:2}],g={toc:v},N="wrapper";function b(e){let{components:t,...n}=e;return(0,l.kt)(N,(0,r.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"useintersection"},"useIntersection"),(0,l.kt)("p",null,"Tracks an HTML element's intersection using ",(0,l.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API"},"Intersection Observer API"),"."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"One of the most common cases where this hook is used is when you create a page with ",(0,l.kt)("strong",{parentName:"p"},"infinite-scroll"),".")),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"In some cases, it may be better to use ",(0,l.kt)("a",{parentName:"p",href:"./use-in-view"},"useInView")," because it is simpler.")),(0,l.kt)("hr",{className:"custom-hr"}),(0,l.kt)("h2",{id:"api"},"API"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const ref = useIntersection({\n  onIntersect,\n  onEnter,\n  onLeave,\n  enabled,\n  root,\n  rootMargin,\n  threshold,\n});\n")),(0,l.kt)("h3",{id:"options"},"Options"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)(o.Z,{name:"onIntersect",type:"(isIntersecting: boolean, entry?: IntersectionObserverEntry) => void",isRequired:!1,mdxType:"Param"}),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Defaults to ",(0,l.kt)("inlineCode",{parentName:"li"},"() => {}")),(0,l.kt)("li",{parentName:"ul"},"Callback fired on enter & on leave"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)(o.Z,{name:"onEnter",type:"(entry?: IntersectionObserverEntry) => void",isRequired:!1,mdxType:"Param"}),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Defaults to ",(0,l.kt)("inlineCode",{parentName:"li"},"() => {}")),(0,l.kt)("li",{parentName:"ul"},"Callback fired on enter"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)(o.Z,{name:"onLeave",type:"(entry?: IntersectionObserverEntry) => void",isRequired:!1,mdxType:"Param"}),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Defaults to ",(0,l.kt)("inlineCode",{parentName:"li"},"() => {}")),(0,l.kt)("li",{parentName:"ul"},"Callback fired on leave"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)(o.Z,{name:"enabled",type:"boolean",isRequired:!1,mdxType:"Param"}),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Defaults to ",(0,l.kt)("inlineCode",{parentName:"li"},"true")),(0,l.kt)("li",{parentName:"ul"},"Determine whether intersection observer should be enabled or not"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)(o.Z,{name:"root",type:"Element | Document",isRequired:!1,mdxType:"Param"}),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Defaults to the browser viewport if not specified or if ",(0,l.kt)("inlineCode",{parentName:"li"},"null")),(0,l.kt)("li",{parentName:"ul"},"The element that is used as the viewport for checking visibility of the target. Must be the ancestor of the target"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)(o.Z,{name:"rootMargin",type:"string",isRequired:!1,mdxType:"Param"}),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Defaults to all zeros"),(0,l.kt)("li",{parentName:"ul"},"Margin around the root. Can have values similar to the CSS margin property, e.g. ",(0,l.kt)("inlineCode",{parentName:"li"},'"10px 20px 30px 40px"')," (top, right, bottom, left), the values can be percentages"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)(o.Z,{name:"threshold",type:"number",isRequired:!1,mdxType:"Param"}),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Defaults to ",(0,l.kt)("inlineCode",{parentName:"li"},"0")),(0,l.kt)("li",{parentName:"ul"},"Indicate at what percentage of the target's visibility the observer's callback should be executed")))),(0,l.kt)("h3",{id:"returns"},"Returns"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)(o.Z,{name:"ref",type:"React.MutableRefObject",mdxType:"Param"}),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"The ref used on JSX element")))),(0,l.kt)("hr",{className:"custom-hr"}),(0,l.kt)("h2",{id:"examples"},"Examples"),(0,l.kt)(c.Z,{className:"relative",mdxType:"BrowserWindow"},(0,l.kt)(d,{mdxType:"Demo"})),(0,l.kt)(s.Z,{mdxType:"Tabs"},(0,l.kt)(i.Z,{value:"JS",label:"JS",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useIntersection } from 'react-power-ups';\n\nexport function Demo() {\n  const refA = useIntersection({\n    onEnter: () => console.log('Element A appeared in page'),\n    onLeave: () => console.log('Element A dissappeared from page'),\n  });\n\n  const refB = useIntersection({\n    threshold: 0.5,\n    onIntersect: (isIntersecting, entry) => {\n      console.log('onIntersect triggered', isIntersecting, entry);\n    },\n  });\n\n  return (\n    <>\n      <div style={{ height: 1000 }} />\n\n      <div ref={refA} className=\"bg-slate-500\">\n        Element A\n      </div>\n\n      <div style={{ height: 1000 }} />\n\n      <textarea ref={refB} defaultValue=\"Element B (with threshold: 0.5)\" />\n\n      <div style={{ height: 1000 }} />\n    </>\n  );\n}\n"))),(0,l.kt)(i.Z,{value:"TS",label:"TS",default:!0,mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useIntersection } from 'react-power-ups';\n\nexport function Demo() {\n  const refA = useIntersection({\n    onEnter: () => console.log('Element A appeared in page'),\n    onLeave: () => console.log('Element A dissappeared from page'),\n  });\n\n  const refB = useIntersection<HTMLTextAreaElement>({\n    threshold: 0.5,\n    onIntersect: (isIntersecting, entry) => {\n      console.log('onIntersect triggered', isIntersecting, entry);\n    },\n  });\n\n  return (\n    <>\n      <div style={{ height: 1000 }} />\n\n      <div ref={refA} className=\"bg-slate-500\">\n        Element A\n      </div>\n\n      <div style={{ height: 1000 }} />\n\n      <textarea ref={refB} defaultValue=\"Element B (with threshold: 0.5)\" />\n\n      <div style={{ height: 1000 }} />\n    </>\n  );\n}\n")))))}b.isMDXComponent=!0},5267:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(655),a=n(7294),l=n(7192);function s(e){var t=e.onIntersect,n=void 0===t?l.ZT:t,s=e.onEnter,i=void 0===s?l.ZT:s,o=e.onLeave,c=void 0===o?l.ZT:o,m=e.enabled,u=void 0===m||m,d=(0,r._T)(e,["onIntersect","onEnter","onLeave","enabled"]),p=(0,a.useRef)(null),f=(0,a.useRef)(n),h=(0,a.useRef)(i),k=(0,a.useRef)(c);return(0,a.useEffect)((function(){f.current=n}),[n]),(0,a.useEffect)((function(){h.current=i}),[i]),(0,a.useEffect)((function(){k.current=c}),[c]),(0,a.useEffect)((function(){if(u&&p.current&&"function"==typeof IntersectionObserver){var e=new IntersectionObserver((function(e){var t=e[0];f.current(t.isIntersecting,t),t.isIntersecting?h.current(t):k.current(t)}),d);return e.observe(p.current),function(){e.disconnect()}}}),[u,d.root,d.rootMargin,d.threshold]),p}},7192:(e,t,n)=>{n.d(t,{RF:()=>s,ZT:()=>r,ht:()=>l,jU:()=>a});var r=function(){},a="undefined"!=typeof window,l=function(e,t){return e===t},s=function(e){return e}}}]);